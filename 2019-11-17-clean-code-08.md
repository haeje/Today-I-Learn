외부 api를 사용하거나 통제하지 못하는 라이브러리는 감싸라.

Map 인터페이스를 사용한다고 가정하자. Map 객체를 생성하고 여기저기 전달하고 반환하는 상황은 흔하다. 

Map 인터페이스는 편리하다. 다양한 기능은 메서드로 제공한다. 심지어 Map의 내용을 모두 지워버리는 기능까지. 또한, Map에는 여러 객체를 담을 수 있다. 제네릭을 사용하면 이를 극복할 수 있지만, 이 제네릭 인테페이스 자체가 변경될 수도 있기 때문에 권장하지 않는 의견도 있다고 한다. (실제 자바가 업그레이드 해보면서 Map 인터페이스가 변경된 사례가 있고, 이 때 제네릭 관련된 내용으로 작성된 코드들이 수정되어야 하는 상황이 있었다고 한다. )

Map 객체를 가지고 있는 새로운 객체를 만들고, 이를 사용하는 곳에서 Map 객체의 내용을 삭제하는 것 등 통제할 수 있다. 

    Map map = new hashMap();
    OtherObj.someMethod(map);
    
    // OtherObj의 someMethod에서 map.clean() 등 Map관련 메서드 모두 사용가능.

    class Wrap{
    	Map map = new hashMap();
    
    	public void add(key, value){
    		map.add(key, value)
    	}
    
    	...
    	
    	// 필요한 or 사용되어야 할 메서드 public 으로 공개하면
    	// 외부에서 의도한 대로만 사용될 수 있고, 사용자 또한 객체를 어떻게 사용해야하는지 알기 좋다.
    }

무조건 Map이나 외부 라이브러리를 사용할 때 감싸주라는 소리는 아니다.

이런 외부 api 객체를 이곳저곳 전달하고 반환 받는 경우에는 이렇게 감싸주는 것이 좋다. 해당 클래스 내부에서만 사용된다면 문제없다.
